import{aB as ne,aC as A,a8 as se,g as ie,c as L,u as b,as as ce,aD as pe,r as h,b as F,e as I,i as ge,R as ue,x as j,o as H,l as R,m as ee,W as de,a1 as ve,C as $,p as P,s as O,a2 as me,j as re,B as U,F as he,O as fe,w as X,$ as V,t as be,v as ye,L as we,aq as xe,k as ke,n as Se,q as _e,Y as Te,y as Ee}from"./index.769c2bac.js";import{u as oe,p as W,_ as Y,i as ae,e as D,q as J,j as ze,r as Ce}from"./popper.6450518e.js";var Ne=/\s/;function Le(e){for(var r=e.length;r--&&Ne.test(e.charAt(r)););return r}var Me=/^\s+/;function De(e){return e&&e.slice(0,Le(e)+1).replace(Me,"")}var K=0/0,He=/^[-+]0x[0-9a-f]+$/i,Pe=/^0b[01]+$/i,Be=/^0o[0-7]+$/i,Ae=parseInt;function q(e){if(typeof e=="number")return e;if(ne(e))return K;if(A(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=A(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=De(e);var t=Pe.test(e);return t||Be.test(e)?Ae(e.slice(2),t?2:8):He.test(e)?K:+e}var Re=function(){return se.Date.now()},B=Re,$e="Expected a function",Oe=Math.max,We=Math.min;function sr(e,r,t){var a,c,u,l,g,n,v=0,y=!1,f=!1,s=!0;if(typeof e!="function")throw new TypeError($e);r=q(r)||0,A(t)&&(y=!!t.leading,f="maxWait"in t,u=f?Oe(q(t.maxWait)||0,r):u,s="trailing"in t?!!t.trailing:s);function w(i){var p=a,d=c;return a=c=void 0,v=i,l=e.apply(d,p),l}function x(i){return v=i,g=setTimeout(S,r),y?w(i):l}function M(i){var p=i-n,d=i-v,m=r-p;return f?We(m,u-d):m}function E(i){var p=i-n,d=i-v;return n===void 0||p>=r||p<0||f&&d>=u}function S(){var i=B();if(E(i))return z(i);g=setTimeout(S,M(i))}function z(i){return g=void 0,s&&a?w(i):(a=c=void 0,l)}function C(){g!==void 0&&clearTimeout(g),v=0,a=n=c=g=void 0}function k(){return g===void 0?l:z(B())}function o(){var i=B(),p=E(i);if(a=arguments,c=this,n=i,p){if(g===void 0)return x(n);if(f)return clearTimeout(g),g=setTimeout(S,r),w(n)}return g===void 0&&(g=setTimeout(S,r)),l}return o.cancel=C,o.flush=k,o}class Fe extends Error{constructor(r){super(r),this.name="ElementPlusError"}}function Ie(e,r){throw new Fe(`[${e}] ${r}`)}function ir(e,r){}const cr="update:modelValue",pr="change",te=Symbol("scrollbarContextKey");var Ye={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const je=e=>(r,t)=>Ue(r,t,b(e)),Ue=(e,r,t)=>ce(t,e,e).replace(/\{(\w+)\}/g,(a,c)=>{var u;return`${(u=r==null?void 0:r[c])!=null?u:`{${c}}`}`}),Xe=e=>{const r=L(()=>b(e).name),t=pe(e)?e:h(e);return{lang:r,locale:t,t:je(e)}},gr=()=>{const e=ie("locale");return Xe(L(()=>e.value||Ye))},N=4,Ve={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Je=({move:e,size:r,bar:t})=>({[t.size]:r,transform:`translate${t.axis}(${e}%)`}),Ke=F({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),qe=I({__name:"thumb",props:Ke,setup(e){const r=e,t="Thumb",a=ge(te),c=oe("scrollbar");a||Ie(t,"can not inject scrollbar context");const u=h(),l=h(),g=h({}),n=h(!1);let v=!1,y=!1,f=ae?document.onselectstart:null;const s=L(()=>Ve[r.vertical?"vertical":"horizontal"]),w=L(()=>Je({size:r.size,move:r.move,bar:s.value})),x=L(()=>u.value[s.value.offset]**2/a.wrapElement[s.value.scrollSize]/r.ratio/l.value[s.value.offset]),M=p=>{var d;if(p.stopPropagation(),p.ctrlKey||[1,2].includes(p.button))return;(d=window.getSelection())==null||d.removeAllRanges(),S(p);const m=p.currentTarget;!m||(g.value[s.value.axis]=m[s.value.offset]-(p[s.value.client]-m.getBoundingClientRect()[s.value.direction]))},E=p=>{if(!l.value||!u.value||!a.wrapElement)return;const d=Math.abs(p.target.getBoundingClientRect()[s.value.direction]-p[s.value.client]),m=l.value[s.value.offset]/2,_=(d-m)*100*x.value/u.value[s.value.offset];a.wrapElement[s.value.scroll]=_*a.wrapElement[s.value.scrollSize]/100},S=p=>{p.stopImmediatePropagation(),v=!0,document.addEventListener("mousemove",z),document.addEventListener("mouseup",C),f=document.onselectstart,document.onselectstart=()=>!1},z=p=>{if(!u.value||!l.value||v===!1)return;const d=g.value[s.value.axis];if(!d)return;const m=(u.value.getBoundingClientRect()[s.value.direction]-p[s.value.client])*-1,_=l.value[s.value.offset]-d,le=(m-_)*100*x.value/u.value[s.value.offset];a.wrapElement[s.value.scroll]=le*a.wrapElement[s.value.scrollSize]/100},C=()=>{v=!1,g.value[s.value.axis]=0,document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",C),i(),y&&(n.value=!1)},k=()=>{y=!1,n.value=!!r.size},o=()=>{y=!0,n.value=v};ue(()=>{i(),document.removeEventListener("mouseup",C)});const i=()=>{document.onselectstart!==f&&(document.onselectstart=f)};return W(j(a,"scrollbarElement"),"mousemove",k),W(j(a,"scrollbarElement"),"mouseleave",o),(p,d)=>(H(),R(me,{name:b(c).b("fade"),persisted:""},{default:ee(()=>[de($("div",{ref_key:"instance",ref:u,class:P([b(c).e("bar"),b(c).is(b(s).key)]),onMousedown:E},[$("div",{ref_key:"thumb",ref:l,class:P(b(c).e("thumb")),style:O(b(w)),onMousedown:M},null,38)],34),[[ve,p.always||n.value]])]),_:1},8,["name"]))}});var G=Y(qe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Ge=F({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Qe=I({__name:"bar",props:Ge,setup(e,{expose:r}){const t=e,a=h(0),c=h(0);return r({handleScroll:l=>{if(l){const g=l.offsetHeight-N,n=l.offsetWidth-N;c.value=l.scrollTop*100/g*t.ratioY,a.value=l.scrollLeft*100/n*t.ratioX}}}),(l,g)=>(H(),re(he,null,[U(G,{move:a.value,ratio:l.ratioX,size:l.width,always:l.always},null,8,["move","ratio","size","always"]),U(G,{move:c.value,ratio:l.ratioY,size:l.height,vertical:"",always:l.always},null,8,["move","ratio","size","always"])],64))}});var Ze=Y(Qe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const er=F({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:fe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),rr={scroll:({scrollTop:e,scrollLeft:r})=>[e,r].every(D)},or={name:"ElScrollbar"},ar=I({...or,props:er,emits:rr,setup(e,{expose:r,emit:t}){const a=e,c=oe("scrollbar");let u,l;const g=h(),n=h(),v=h(),y=h("0"),f=h("0"),s=h(),w=h(1),x=h(1),M=L(()=>{const o={};return a.height&&(o.height=J(a.height)),a.maxHeight&&(o.maxHeight=J(a.maxHeight)),[a.wrapStyle,o]}),E=()=>{var o;n.value&&((o=s.value)==null||o.handleScroll(n.value),t("scroll",{scrollTop:n.value.scrollTop,scrollLeft:n.value.scrollLeft}))};function S(o,i){Te(o)?n.value.scrollTo(o):D(o)&&D(i)&&n.value.scrollTo(o,i)}const z=o=>{!D(o)||(n.value.scrollTop=o)},C=o=>{!D(o)||(n.value.scrollLeft=o)},k=()=>{if(!n.value)return;const o=n.value.offsetHeight-N,i=n.value.offsetWidth-N,p=o**2/n.value.scrollHeight,d=i**2/n.value.scrollWidth,m=Math.max(p,a.minSize),_=Math.max(d,a.minSize);w.value=p/(o-p)/(m/(o-m)),x.value=d/(i-d)/(_/(i-_)),f.value=m+N<o?`${m}px`:"",y.value=_+N<i?`${_}px`:""};return X(()=>a.noresize,o=>{o?(u==null||u(),l==null||l()):({stop:u}=ze(v,k),l=W("resize",k))},{immediate:!0}),X(()=>[a.maxHeight,a.height],()=>{a.native||V(()=>{var o;k(),n.value&&((o=s.value)==null||o.handleScroll(n.value))})}),be(te,ye({scrollbarElement:g,wrapElement:n})),we(()=>{a.native||V(()=>k())}),xe(()=>k()),r({wrap$:n,update:k,scrollTo:S,setScrollTop:z,setScrollLeft:C,handleScroll:E}),(o,i)=>(H(),re("div",{ref_key:"scrollbar$",ref:g,class:P(b(c).b())},[$("div",{ref_key:"wrap$",ref:n,class:P([o.wrapClass,b(c).e("wrap"),{[b(c).em("wrap","hidden-default")]:!o.native}]),style:O(b(M)),onScroll:E},[(H(),R(Se(o.tag),{ref_key:"resize$",ref:v,class:P([b(c).e("view"),o.viewClass]),style:O(o.viewStyle)},{default:ee(()=>[ke(o.$slots,"default")]),_:3},8,["class","style"]))],38),o.native?_e("v-if",!0):(H(),R(Ze,{key:0,ref_key:"barRef",ref:s,height:f.value,width:y.value,always:o.always,"ratio-x":x.value,"ratio-y":w.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var tr=Y(ar,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const ur=Ee(tr),T=new Map;let Q;ae&&(document.addEventListener("mousedown",e=>Q=e),document.addEventListener("mouseup",e=>{for(const r of T.values())for(const{documentHandler:t}of r)t(e,Q)}));function Z(e,r){let t=[];return Array.isArray(r.arg)?t=r.arg:Ce(r.arg)&&t.push(r.arg),function(a,c){const u=r.instance.popperRef,l=a.target,g=c==null?void 0:c.target,n=!r||!r.instance,v=!l||!g,y=e.contains(l)||e.contains(g),f=e===l,s=t.length&&t.some(x=>x==null?void 0:x.contains(l))||t.length&&t.includes(g),w=u&&(u.contains(l)||u.contains(g));n||v||y||f||s||w||r.value(a,c)}}const dr={beforeMount(e,r){T.has(e)||T.set(e,[]),T.get(e).push({documentHandler:Z(e,r),bindingFn:r.value})},updated(e,r){T.has(e)||T.set(e,[]);const t=T.get(e),a=t.findIndex(u=>u.bindingFn===r.oldValue),c={documentHandler:Z(e,r),bindingFn:r.value};a>=0?t.splice(a,1,c):t.push(c)},unmounted(e){T.delete(e)}};export{pr as C,ur as E,cr as U,sr as a,dr as b,ir as d,gr as u};
